---
sources:
  kubernetes_source:
    type: kubernetes_logs
    pod_annotation_fields:
      container_image: container_image
      container_name: container_name
      pod_annotations: pod_annotations
      pod_labels: pod_labels
      pod_name: pod_name

sinks:

  #redis:
  #  type: redis
  #  inputs:
  #    - kubernetes_source
  #  url: redis://redis-standalone-master.datahub.svc.cluster.local:6379/0
  #  key: "k3s_prod"
  #  encoding:
  #    codec: json
  #  batch:
  #    max_bytes: 2049000

  kubernetes_sink:
    type: vector
    inputs:
      - kubernetes_source
    address: vector-aggregator.logging.svc.cluster.local:6000

  #kafka:
  #  type: kafka
  #  inputs:
  #    - kubernetes_source
  #  bootstrap_servers: datahub-cluster-kafka-bootstrap.datahub.svc.cluster.local:9092
  #  topic: k3s-logs-topic
  #  encoding:
  #    codec: json

