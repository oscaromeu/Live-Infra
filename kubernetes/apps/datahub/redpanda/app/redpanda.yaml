apiVersion: cluster.redpanda.com/v1alpha1
kind: Redpanda
metadata:
  name: redpanda
spec:
  chartRef:
    chartName: redpanda
    chartVersion: 5.6.35
    helmRepositoryName: redpanda
    upgrade:
      cleanupOnFail: true
      force: true
  clusterSpec:

    commonLabels:
      env: 'production'
      namespace: 'datahub'

    image:
      repository: "docker.redpanda.com/redpandadata/redpanda"
      tag: "v23.2.14"

    auth:
      sasl:
        enabled: true
        secretRef: "redpanda-superusers"
        mechanism: "SCRAM-SHA-512"
        users: []

    tls:
      enabled: true

    resources:
      requests:
        cpu: 1
        memory: 1.2Gi
      limits:
        memory: 1.2Gi

    listeners:
      kafka:
        external:
          default:
            advertisedPorts: [31093]
      admin:
        external:
          default:
            advertisedPorts: [31645]
      http:
        external:
          default:
            advertisedPorts: [30083]
      rpc:
        port: 33146
      schemaRegistry:
        external:
          default:
            advertisedPorts: [30084]
