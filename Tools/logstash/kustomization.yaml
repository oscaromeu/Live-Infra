apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: logstash
  namespace: monitoring
  labels:
    app: "logstash"
resources:
  #- namespace.yaml
  - svc_logstash.yaml
  - set_logstash.yaml
generatorOptions:
 disableNameSuffixHash: true
 labels:
   namespace: monitoring
configMapGenerator:
- name: logstash-config
  namespace: monitoring
  files:
    - jvm.options
    - pipelines.yml
    - logstash.yml
- name: logstash-pipeline
  namespace: monitoring
  files:
    - pipeline/uptime/uptime_pipeline.conf
    - pipeline/pi-cluster-logs/pi_cluster_pipeline.conf

