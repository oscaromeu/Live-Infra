filebeat.config.inputs:
  enabled: true
  path: ${path.config}/inputs.d/*.yml
  reload.enabled: true
  reload.period: 10m

filebeat.config.modules:
  path: ${path.config}/modules.d/*.yml
  reload.enabled: true
  reload.period: 10m

# To enable hints based autodiscover, remove `filebeat.inputs` configuration and uncomment this:
#filebeat.autodiscover:
#  providers:
#    - type: kubernetes
#      node: ${NODE_NAME}
#      hints.enabled: true
#      hints.default_config:
#        type: container
#        paths:
#          - /var/log/containers/*${data.kubernetes.container.id}.log


#output.elasticsearch:
#  hosts: ['${ELASTICSEARCH_HOST:elasticsearch}:${ELASTICSEARCH_PORT:9200}']
#    #  username: ${ELASTICSEARCH_USERNAME}
#    #  password: ${ELASTICSEARCH_PASSWORD}

output.redis:
  hosts: ${REDIS_HOSTS}
  key: '${REDIS_KEY_NAME}'
  ssl:
    enabled: ${REDIS_ENABLE_SSL}
    verification_mode: ${REDIS_SSL_VERIFY}
    certificate: "/etc/filebeat/ssl/filebeat.pem"
    key: "/etc/filebeat/ssl/filebeat.key"
    supported:protocols: [ TLSv1.0, TLSv1.1, TLSv1.2,SSLv3 ]
    verification_mode: none


logging.level: debug 
logging.to_files: true
logging.to_syslog: false
logging.files:
  path: /var/log/beats
  name: filebeat.log
  keepfiles: 7
  permissions: 0644

filebeat.max_procs: 1
